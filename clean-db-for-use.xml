truncate unhls_test_results 

$data = \DB::select("SELECT  sp.time_accepted as Recieved, up.patient_number, up.ulin as labID, up.name as PatientName, ud.name as DistrictofResident,
			up.gender, up.dob, uv.visit_type,wd.name as Ward,mpd.clinical_notes, st.name as SpecimenType, ut.test_type_id, mpd.days_on_antibiotic as DonAntibiotics,
			 group_concat(distinct dr.name) as Drugs, o.name as IsolatedOrganism, dr.name as antibiotics
			from unhls_tests ut
			left join unhls_visits uv on (uv.id = ut.visit_id)
			left join wards wd on (wd.id = uv.ward_id)
			left join unhls_patients up on (up.id = uv.patient_id)
			left join unhls_districts ud on (ud.id = up.district_residence && up.district_workplace)
			left join micro_patients_details mpd on (up.id = mpd.patient_id)
			left join patient_antibiotics pa on (pa.patient_id = up.id)
			left join drugs dr on (dr.id = pa.drug_id)
			left join specimens sp on (sp.id = ut.specimen_id)
			left join specimen_types st on (st.id = sp.specimen_type_id)
			left join isolated_organisms io on (ut.id = io.test_id)
			left join organisms o on (o.id = io.organism_id)
			left join drug_susceptibility ds on (io.id = ds.isolated_organism_id)
			left join drug_susceptibility_measures dsm on (dsm.id = ds.drug_susceptibility_measure_id)
			where ut.test_type_id = 16 

			group by up.name ORDER BY sp.time_accepted DESC");

		foreach ($data as $value) {
			$content[] = [
			"Date Recieved" => substr($value->Recieved,0,-9),
			"Isolated Organism" => $value->IsolatedOrganism,
			"Days on Antibiotics" => $value->DonAntibiotics,
			"List Antibiotics" => $value->Drugs,
			];